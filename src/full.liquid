{% render 'head_assets' %}

<div class="layout layout--col h--full pb--10">

  {% assign resource_type = trmnl.plugin_settings.custom_fields_values.resource_type | default: 'Electricity' %}
  {% if resource_type == 'Gas' %}
    {% assign primary_data = gas %}
    {% assign primary_label = "Gas" %}
    {% assign secondary_data = electricity %}
    {% assign secondary_label = "Elec" %}
  {% else %}
    {% assign primary_data = electricity %}
    {% assign primary_label = "Electricity" %}
    {% assign secondary_data = gas %}
    {% assign secondary_label = "Gas" %}
  {% endif %}


  <!-- Primary Resource Section -->
  <div class="grid">
    <div class="row">
      {% render 'stat_grid'
        , data: primary_data
        , currency: "€"
      %}
    </div>
  </div>

    <!-- Secondary Resource Section -->
  <div class="grid">
    <div class="row">
      {% render 'secondary_stat_grid'
        , data: secondary_data
        , currency: "€"
        , label_prefix: secondary_label
      %}
    </div>
  </div>

  <!-- Chart Container -->
  {% render 'energy_chart'
    , id: "energy-chart" | append_random
    , electricity: electricity
    , gas: gas
    , variant: "full"
    , chart_height: "null" 
    , resource_type: resource_type
  %}

</div>
<div class="divider"></div>
{% render 'title_bar', instance: primary_label %}
